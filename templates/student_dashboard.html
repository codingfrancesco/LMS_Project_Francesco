{% extends 'base.html' %}

{% block title %}Student Dashboard{% endblock %}

{% block content %}
    <h1>Welcome, {{ full_name }}! ğŸ‘‹</h1>
    <p>Your learning journey starts here. Browse courses, complete assignments, and track your progress.</p>
    
    {% if error %}
        <div style="background-color: #fee; border: 1px solid #f88; color: #c33; padding: 12px 16px; border-radius: 8px; margin-bottom: 20px;">
            {{ error }}
        </div>
    {% endif %}
    
    {% if success %}
        <div style="background-color: #efe; border: 1px solid #8d8; color: #3a3; padding: 12px 16px; border-radius: 8px; margin-bottom: 20px;">
            {{ success }}
        </div>
    {% endif %}
    
    <div class="section mt-30">
        <h2 class="section-title">Your Enrolled Courses</h2>
        
        {% if enrolled_courses %}
            <div class="grid">
                {% for course in enrolled_courses %}
                    <div class="card">
                        <div class="card-header">{{ course.title }}</div>
                        <div class="card-body">
                            <p>{{ course.description or 'No description available' }}</p>
                            <p class="text-muted"><small>Instructor: {{ course.teacher_name or 'Unassigned' }}</small></p>
                            
                            <div style="margin: 15px 0;">
                                <small style="color: var(--medium-text);">Progress: {{ course.progress or 0 }}%</small>
                                <div style="background-color: var(--bg-light); border-radius: 8px; height: 8px; margin-top: 5px; overflow: hidden;">
                                    <div style="background-color: var(--accent-blue); height: 100%; transition: width 0.3s ease; --progress: {{ course.progress or 0 }}%; width: calc(var(--progress));"></div>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 15px;">
                                <a href="{{ url_for('course') }}" class="btn btn-primary" style="flex: 1; text-align: center;">ğŸ“š Continue Learning</a>
                                <a href="{{ url_for('assignments') }}" class="btn btn-secondary" style="flex: 1; text-align: center;">âœï¸ Assignments</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-muted">You haven't enrolled in any courses yet.</p>
            <a href="{{ url_for('course') }}" class="btn btn-primary mt-20">Browse Available Courses</a>
        {% endif %}
    </div>
    
    <div class="section mt-30">
        <h2 class="section-title">Explore More Courses</h2>
        <p>There are <strong>{{ available_courses_count }}</strong> more courses available for you to explore.</p>
        <p style="color: var(--light-text); font-size: 14px;">
            Expand your skills by enrolling in new courses. Each course includes lessons, assignments, and quizzes to help you learn effectively.
        </p>
        <a href="{{ url_for('course') }}" class="btn btn-secondary mt-20">ğŸ“– Browse All Courses</a>
    </div>
    
    <div class="section mt-30">
        <h2 class="section-title">Your Statistics</h2>
        <div class="grid">
            <div class="card" style="text-align: center;">
                <div class="card-header">ğŸ“š Courses Enrolled</div>
                <div class="card-body">
                    <h2 style="color: var(--accent-blue); font-size: 42px; margin: 10px 0;">{{ enrolled_courses | length }}</h2>
                    <p style="color: var(--light-text); font-size: 14px;">Active courses</p>
                </div>
            </div>
            
            <div class="card" style="text-align: center;">
                <div class="card-header">ğŸ“Š Average Progress</div>
                <div class="card-body">
                    <h2 style="color: var(--accent-blue); font-size: 42px; margin: 10px 0;">0%</h2>
                    <p style="color: var(--light-text); font-size: 14px;">Across all courses</p>
                </div>
            </div>
            
            <div class="card" style="text-align: center;">
                <div class="card-header">âœ… Completed</div>
                <div class="card-body">
                    <h2 style="color: var(--accent-blue); font-size: 42px; margin: 10px 0;">0</h2>
                    <p style="color: var(--light-text); font-size: 14px;">Assignments submitted</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section mt-30">
        <h2 class="section-title">Learning Tips</h2>
        <ul style="line-height: 1.9; color: var(--medium-text);">
            <li>ğŸ“… <strong>Be Consistent:</strong> Study regularly and dedicate specific times each day to your courses.</li>
            <li>âœï¸ <strong>Complete Assignments:</strong> Practice with assignments and quizzes to reinforce your learning.</li>
            <li>ğŸ’¬ <strong>Ask Questions:</strong> Don't hesitate to reach out to your instructor if you need clarification.</li>
            <li>ğŸ”„ <strong>Review Material:</strong> Go back and review lessons regularly to strengthen your understanding.</li>
        </ul>
    </div>
    
    <div style="margin-top: 40px; border-top: 1px solid var(--border-color); padding-top: 20px;">
        <div style="display: flex; justify-content: space-between; gap: 10px;">
            <div style="flex: 1;">
                <a href="#" class="btn btn-outline">âš™ï¸ Account Settings</a>
            </div>
            <div style="flex: 1; text-align: right;">
                <a href="{{ url_for('logout') }}" class="btn btn-outline">ğŸšª Logout</a>
            </div>
        </div>
    </div>
    
    <div style="margin-top: 20px; text-align: center; color: var(--light-text); font-size: 12px;">
        Need help? Visit our <a href="#" style="color: var(--accent-blue);">Help Center</a> or contact support.
    </div>
{% endblock %}